import React, { useState } from 'react';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Button } from '../components/ui/button';\nimport { Input } from '../components/ui/input';\nimport { Label } from '../components/ui/label';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Eye, EyeOff, Lock, User, Dumbbell } from 'lucide-react';\n\nconst Login = () => {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  });\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { login } = useAuth();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    \n    const result = await login(formData.username, formData.password);\n    \n    if (!result.success) {\n      setLoading(false);\n    }\n    // If successful, the AuthContext will handle the redirect\n  };\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4\">\n      <div className=\"w-full max-w-md\">\n        {/* Header */}\n        <div className=\"text-center mb-8\">\n          <div className=\"flex items-center justify-center mb-4\">\n            <div className=\"p-3 bg-blue-600 rounded-full\">\n              <Dumbbell className=\"h-8 w-8 text-white\" />\n            </div>\n          </div>\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">Gestão Fitness</h1>\n          <p className=\"text-gray-600\">Sistema de Gestão de Membership</p>\n        </div>\n\n        {/* Login Form */}\n        <Card className=\"shadow-xl border-0\">\n          <CardHeader className=\"space-y-1 pb-4\">\n            <CardTitle className=\"text-2xl text-center font-bold\">Entrar no Sistema</CardTitle>\n            <p className=\"text-center text-gray-600 text-sm\">\n              Introduz as tuas credenciais para aceder\n            </p>\n          </CardHeader>\n          <CardContent>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"username\">Nome de Utilizador</Label>\n                <div className=\"relative\">\n                  <User className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                  <Input\n                    id=\"username\"\n                    name=\"username\"\n                    type=\"text\"\n                    placeholder=\"Inserir nome de utilizador\"\n                    value={formData.username}\n                    onChange={handleChange}\n                    className=\"pl-10\"\n                    required\n                    data-testid=\"login-username\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"password\">Password</Label>\n                <div className=\"relative\">\n                  <Lock className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                  <Input\n                    id=\"password\"\n                    name=\"password\"\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Inserir password\"\n                    value={formData.password}\n                    onChange={handleChange}\n                    className=\"pl-10 pr-10\"\n                    required\n                    data-testid=\"login-password\"\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowPassword(!showPassword)}\n                    className=\"absolute right-3 top-3 text-gray-400 hover:text-gray-600\"\n                    data-testid=\"toggle-password\"\n                  >\n                    {showPassword ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\n                  </button>\n                </div>\n              </div>\n              \n              <Button \n                type=\"submit\" \n                className=\"w-full bg-blue-600 hover:bg-blue-700 text-white py-6 text-lg font-medium\"\n                disabled={loading}\n                data-testid=\"login-submit\"\n              >\n                {loading ? (\n                  <>\n                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                    A entrar...\n                  </>\n                ) : (\n                  'Entrar'\n                )}\n              </Button>\n            </form>\n            \n            {/* Demo Credentials */}\n            <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n              <h4 className=\"text-sm font-medium text-gray-700 mb-2\">Credenciais de Demonstração:</h4>\n              <div className=\"text-xs text-gray-600 space-y-1\">\n                <div><strong>Admin:</strong> fabio.guerreiro</div>\n                <div className=\"text-xs text-gray-500 italic\">Acesso completo ao sistema</div>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n        \n        {/* Footer */}\n        <div className=\"text-center mt-8 text-sm text-gray-500\">\n          <p>&copy; 2025 Gestão Fitness. Sistema de gestão profissional.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Login;